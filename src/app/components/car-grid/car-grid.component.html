<section id="cars" class="py-12 bg-gray-100">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Section Header -->
    <h2 class="text-3xl font-extrabold mb-4 text-gray-900 text-center">
      ðŸš— Our Cars Collection
    </h2>
    <p class="text-center text-gray-600 mb-12">
      Explore our top-rated vehicles, carefully curated for comfort, style, and performance.
    </p>

    <!-- Filter Buttons -->
    <div class="flex justify-center gap-4 mb-8 flex-wrap">
      <button (click)="filterCars('All')" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
        All
      </button>
      <button (click)="filterCars('SUV')" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
        SUVs
      </button>
      <button (click)="filterCars('Sedan')" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
        Sedans
      </button>
      <button (click)="filterCars('Luxury')" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
        Luxury
      </button>
      <button (click)="filterCars('Van')" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
        Vans
      </button>
      <button (click)="filterCars('Limousine')" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
        Limousines
      </button>
    </div>

    <!-- Car Cards Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">

      <div
        *ngFor="let car of filteredCars"
        class="bg-white rounded-xl shadow-lg hover:shadow-2xl transition-transform duration-300 hover:scale-105 p-4"
      >

        <!-- Image Click â†’ Car Details -->
        <div class="cursor-pointer rounded-xl overflow-hidden" (click)="viewCar(car.name)">
          <img [src]="car.image" [alt]="car.name" class="w-full h-48 object-cover rounded-xl">
        </div>

        <!-- Car Name -->
        <h3 class="text-lg font-bold mt-4">{{ car.name }}</h3>

        <!-- Price -->
        <p class="text-blue-600 font-semibold text-md">AED {{ car.price }}</p>

        <!-- Action Buttons -->
        <div class="flex flex-wrap gap-2 mt-4">

          <!-- WhatsApp -->
          <a
            [href]="car.whatsappLink + '?text=Hi%20I%20want%20to%20book%20' + car.name"
            target="_blank"
            class="flex-1 text-white py-2 rounded-lg text-center transition-all"
            [ngClass]="'bg-[#01762c] hover:bg-[#02eb5f]'"
          >
            WhatsApp
          </a>

          <!-- Call -->
          <a
            [href]="'tel:' + car.phone"
            class="flex-1 text-white py-2 rounded-lg text-center transition-all"
            [ngClass]="'bg-[#021e4a] hover:bg-[#2563eb]'"
          >
            Call
          </a>

          <!-- Get Inquiry -->
          <button
            class="w-full text-white py-2 rounded-lg mt-2 transition-all"
            [ngClass]="'bg-[#f00202] hover:bg-[#ea580c]'"
            (click)="openQuote(car)"
          >
            Get inquiry
          </button>

        </div>

      </div>

    </div>
  </div>

  <!-- Quote Popup Modal -->
  <div *ngIf="showQuote" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
    <div class="bg-white w-11/12 max-w-md p-6 rounded-xl shadow-2xl">

      <h2 class="text-2xl font-bold text-gray-800 mb-2">Get a inquiry</h2>

      <p class="text-gray-700 mb-4">
        Selected Car: <strong>{{ selectedCar?.name }}</strong>
      </p>

      <!-- User Input Fields -->
      <input [(ngModel)]="quoteName" type="text" placeholder="Your Name" class="w-full p-2 border rounded mb-3">
      <input [(ngModel)]="quotePhone" type="tel" placeholder="Phone Number" class="w-full p-2 border rounded mb-3">
      <textarea [(ngModel)]="quoteMsg" placeholder="Message" class="w-full p-2 border rounded mb-3"></textarea>

      <!-- Submit -->
      <button
        (click)="submitQuote()"
        class="w-full text-white py-2 rounded-lg mb-2 transition-all"
        [ngClass]="'bg-[#3b82f6] hover:bg-[#2563eb]'"
      >
        Submit
      </button>

      <!-- Close -->
      <button
        class="w-full text-black py-2 rounded-lg transition-all"
        [ngClass]="'bg-[#d1d5db] hover:bg-[#9ca3af]'"
        (click)="closeQuote()"
      >
        Close
      </button>

    </div>
  </div>

</section>